# ──────────────────────────────────────────────────────────────────────────────
# obsidian-claude-code — environment variables
# Copy this to .env and fill in the values, or run scripts/setup.sh.
# ──────────────────────────────────────────────────────────────────────────────

# Required: random 32+ char string for signing session cookies
# Generate: openssl rand -hex 32
APP_SECRET=

# Required: 64-char hex string (32 bytes) for AES-256-GCM token encryption
# Generate: openssl rand -hex 32
ENCRYPTION_KEY=

# Google OAuth — create credentials at https://console.cloud.google.com/apis/credentials
# Authorized Redirect URI must be: https://<your-domain>/api/auth/callback
#
# Tip: store these in GitHub Secrets (GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET,
# ALLOWED_EMAIL) and they will be written into .env automatically on each deploy.
# You only need to set them here if you are deploying manually.
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# The single Google account allowed to log in (your email address)
ALLOWED_EMAIL=you@gmail.com

# Your domain — used by Caddy for automatic TLS and as the OAuth redirect base URL
PUBLIC_DOMAIN=claude.example.com
PUBLIC_URL=https://claude.example.com

# SQLite database path (created automatically)
DATABASE_URL=/data/app.db

# Vault directory (set during setup wizard, can also pre-configure here)
VAULTS_DIR=/var/vault

# SSH git — Obsidian Git connects to the VPS via SSH to push/pull the vault.
# SSH_GIT_USER: OS user that owns the vault (default: current user / $USER).
# SSH_PORT: SSH port exposed to the internet (default: 22).
# AUTHORIZED_KEYS_FILE: where to write the Obsidian Git public key
#   (default: ~/.ssh/authorized_keys).  In Docker, mount the host .ssh dir and
#   set this to the mounted path so the host sshd sees the key.
# SSH_GIT_USER=ubuntu
# SSH_PORT=22
# AUTHORIZED_KEYS_FILE=/home/ubuntu/.ssh/authorized_keys

# Node environment
NODE_ENV=production

# Port (default: 3000)
# PORT=3000
